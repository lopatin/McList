// Generated by CoffeeScript 1.4.0
(function() {
  var mc;

  mc = McList;

  mc.TaskList = (function() {

    function TaskList(parent, list) {
      this.parent = parent;
      this.list = list;
      this.start = this.end = this.current = null;
      this.length = 0;
    }

    TaskList.prototype.addTask = function(_task) {
      if (this.current === null) {
        if (!_task) {
          _task = new mc.Task(this.parent, this.list);
        }
        this.start = this.end = this.current = _task;
        this.length++;
      } else {
        this.current = this.current.addTaskAfter();
      }
      if (this.end.next !== null) {
        this.end = this.current;
      }
      if (this.start.prev !== null) {
        this.start = this.current;
      }
    };

    TaskList.prototype.deleteTaskItem = function(return_deleted) {
      if (return_deleted == null) {
        return_deleted = null;
      }
      if (end !== start) {
        this.current = this.current.deleteTask();
        this.length--;
        if (this.end.prev === null) {
          this.end = this.current;
        }
        if (this.start.next === null) {
          this.start = this.current;
        }
      }
    };

    TaskList.prototype.to_array = function() {
      var arr, curr;
      arr = [];
      curr = this.start;
      while (curr) {
        arr.push(curr);
        curr = curr.next;
      }
      return arr;
    };

    TaskList.prototype.set_current = function(curr) {
      return this.current = curr;
    };

    return TaskList;

  })();

}).call(this);
